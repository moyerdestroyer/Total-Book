{"version":3,"file":"book-shelf/index.js","mappings":"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","sources":["webpack://total-book-blocks/webpack/runtime/chunk loaded","webpack://total-book-blocks/external window [\"wp\",\"element\"]","webpack://total-book-blocks/external window [\"wp\",\"components\"]","webpack://total-book-blocks/external window [\"wp\",\"apiFetch\"]","webpack://total-book-blocks/./book-shelf/src/index.js","webpack://total-book-blocks/external window [\"wp\",\"blockEditor\"]","webpack://total-book-blocks/external window \"ReactJSXRuntime\"","webpack://total-book-blocks/external window [\"wp\",\"blocks\"]","webpack://total-book-blocks/webpack/bootstrap","webpack://total-book-blocks/webpack/runtime/compat get default export","webpack://total-book-blocks/webpack/runtime/define property getters","webpack://total-book-blocks/webpack/runtime/hasOwnProperty shorthand","webpack://total-book-blocks/webpack/runtime/jsonp chunk loading","webpack://total-book-blocks/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"apiFetch\"];","import { registerBlockType } from '@wordpress/blocks';\r\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\r\nimport { PanelBody, SelectControl, RangeControl, ToggleControl, TextControl } from '@wordpress/components';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport './style.scss';\r\n\r\nregisterBlockType('ttbp/book-shelf', {\r\n\tedit: ({ attributes, setAttributes }) => {\r\n\t\tconst blockProps = useBlockProps();\r\n\t\tconst { category, limit, orderby, order, showMeta, showExcerpt, columns, template } = attributes;\r\n\t\tconst [categories, setCategories] = useState([]);\r\n\t\tconst [categoriesLoading, setCategoriesLoading] = useState(true);\r\n\t\tconst [books, setBooks] = useState([]);\r\n\t\tconst [booksLoading, setBooksLoading] = useState(true);\r\n\r\n\t\t// Fetch categories on mount\r\n\t\tuseEffect(() => {\r\n\t\t\tapiFetch({ path: '/ttbp/v1/categories' })\r\n\t\t\t\t.then((cats) => {\r\n\t\t\t\t\tsetCategories(cats || []);\r\n\t\t\t\t\tsetCategoriesLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tsetCategories([]);\r\n\t\t\t\t\tsetCategoriesLoading(false);\r\n\t\t\t\t});\r\n\t\t}, []);\r\n\r\n\t\t// Fetch books when attributes change\r\n\t\tuseEffect(() => {\r\n\t\t\tsetBooksLoading(true);\r\n\t\t\tconst categoryParam = category && category.length > 0 ? category.join(',') : '';\r\n\t\t\tconst queryParams = new URLSearchParams({\r\n\t\t\t\tlimit: limit.toString(),\r\n\t\t\t\torderby: orderby,\r\n\t\t\t\torder: order,\r\n\t\t\t});\r\n\t\t\tif (categoryParam) {\r\n\t\t\t\tqueryParams.append('category', categoryParam);\r\n\t\t\t}\r\n\r\n\t\t\tapiFetch({ path: `/ttbp/v1/books?${queryParams.toString()}` })\r\n\t\t\t\t.then((booksData) => {\r\n\t\t\t\t\tsetBooks(booksData || []);\r\n\t\t\t\t\tsetBooksLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\tsetBooks([]);\r\n\t\t\t\t\tsetBooksLoading(false);\r\n\t\t\t\t});\r\n\t\t}, [category, limit, orderby, order]);\r\n\r\n\t\tconst categoryOptions = [\r\n\t\t\t{ label: 'All Categories', value: '' }\r\n\t\t].concat(\r\n\t\t\tcategories.map((cat) => ({\r\n\t\t\t\tlabel: `${cat.name} (${cat.count})`,\r\n\t\t\t\tvalue: cat.slug\r\n\t\t\t}))\r\n\t\t);\r\n\r\n\t\t// Handle multi-select categories\r\n\t\tconst handleCategoryChange = (value) => {\r\n\t\t\tif (Array.isArray(value)) {\r\n\t\t\t\tsetAttributes({ category: value });\r\n\t\t\t} else {\r\n\t\t\t\tsetAttributes({ category: value ? [value] : [] });\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t<PanelBody title=\"Book Query\" initialOpen={true}>\r\n\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\tlabel=\"Category\"\r\n\t\t\t\t\t\t\tvalue={category && category.length > 0 ? category[0] : ''}\r\n\t\t\t\t\t\t\toptions={categoryOptions}\r\n\t\t\t\t\t\t\tonChange={(value) => handleCategoryChange(value)}\r\n\t\t\t\t\t\t\tdisabled={categoriesLoading}\r\n\t\t\t\t\t\t\thelp={categoriesLoading ? 'Loading categories...' : 'Select a book category to filter by'}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextControl\r\n\t\t\t\t\t\t\tlabel=\"Number of Books\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tvalue={limit}\r\n\t\t\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\t\t\tconst num = parseInt(value);\r\n\t\t\t\t\t\t\t\tif (!isNaN(num) && num > 0 && num <= 50) {\r\n\t\t\t\t\t\t\t\t\tsetAttributes({ limit: num });\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\thelp=\"Maximum number of books to display (1-50)\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\tlabel=\"Order By\"\r\n\t\t\t\t\t\t\tvalue={orderby}\r\n\t\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t\t{ label: 'Title', value: 'title' },\r\n\t\t\t\t\t\t\t\t{ label: 'Date', value: 'date' },\r\n\t\t\t\t\t\t\t\t{ label: 'Modified', value: 'modified' },\r\n\t\t\t\t\t\t\t\t{ label: 'Menu Order', value: 'menu_order' }\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\tonChange={(value) => setAttributes({ orderby: value })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\tlabel=\"Order\"\r\n\t\t\t\t\t\t\tvalue={order}\r\n\t\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t\t{ label: 'Ascending', value: 'ASC' },\r\n\t\t\t\t\t\t\t\t{ label: 'Descending', value: 'DESC' }\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\tonChange={(value) => setAttributes({ order: value })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t<PanelBody title=\"Display Options\" initialOpen={false}>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\tlabel=\"Show Meta\"\r\n\t\t\t\t\t\t\tchecked={showMeta}\r\n\t\t\t\t\t\t\tonChange={(value) => setAttributes({ showMeta: value })}\r\n\t\t\t\t\t\t\thelp=\"Display book metadata (author, ISBN, etc.)\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\tlabel=\"Show Excerpt\"\r\n\t\t\t\t\t\t\tchecked={showExcerpt}\r\n\t\t\t\t\t\t\tonChange={(value) => setAttributes({ showExcerpt: value })}\r\n\t\t\t\t\t\t\thelp=\"Display book excerpt/description\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<RangeControl\r\n\t\t\t\t\t\t\tlabel=\"Columns\"\r\n\t\t\t\t\t\t\tvalue={columns}\r\n\t\t\t\t\t\t\tonChange={(value) => setAttributes({ columns: value })}\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={6}\r\n\t\t\t\t\t\t\thelp=\"Number of columns in the grid\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<SelectControl\r\n\t\t\t\t\t\t\tlabel=\"Template\"\r\n\t\t\t\t\t\t\tvalue={template}\r\n\t\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t\t{ label: 'Grid', value: 'grid' },\r\n\t\t\t\t\t\t\t\t{ label: 'List', value: 'list' }\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\tonChange={(value) => setAttributes({ template: value })}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelBody>\r\n\t\t\t\t</InspectorControls>\r\n\t\t\t\t<div {...blockProps}>\r\n\t\t\t\t\t<div className=\"ttbp-books-list total-books-list ttbp-books-grid\" style={{\r\n\t\t\t\t\t\tmargin: '20px 0',\r\n\t\t\t\t\t\tpadding: 0\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{booksLoading ? (\r\n\t\t\t\t\t\t\t<div style={{ padding: '40px', textAlign: 'center', color: '#666' }}>\r\n\t\t\t\t\t\t\t\tLoading books...\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : books.length === 0 ? (\r\n\t\t\t\t\t\t\t<div style={{ padding: '40px', textAlign: 'center', color: '#666' }}>\r\n\t\t\t\t\t\t\t\tNo books found. {category && category.length > 0 && 'Try selecting a different category or clearing the filter.'}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<style>{`\r\n\t\t\t\t\t\t\t\t\t.wp-block-ttbp-book-shelf .books-grid {\r\n\t\t\t\t\t\t\t\t\t\tdisplay: grid !important;\r\n\t\t\t\t\t\t\t\t\t\tgrid-template-columns: repeat(${columns}, 1fr) !important;\r\n\t\t\t\t\t\t\t\t\t\tgap: 18px !important;\r\n\t\t\t\t\t\t\t\t\t\tmargin: 0 !important;\r\n\t\t\t\t\t\t\t\t\t\tpadding: 0 !important;\r\n\t\t\t\t\t\t\t\t\t\tlist-style: none !important;\r\n\t\t\t\t\t\t\t\t\t\twidth: 100% !important;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t`}</style>\r\n\t\t\t\t\t\t\t\t<div \r\n\t\t\t\t\t\t\t\t\tclassName={`books-grid book-col-${columns}`} \r\n\t\t\t\t\t\t\t\t\tstyle={{ \r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'grid',\r\n\t\t\t\t\t\t\t\t\t\tgridTemplateColumns: `repeat(${columns}, 1fr)`,\r\n\t\t\t\t\t\t\t\t\t\tgap: '18px',\r\n\t\t\t\t\t\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\t\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\t\t\t\t\t\tlistStyle: 'none',\r\n\t\t\t\t\t\t\t\t\t\twidth: '100%'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{books.map((book) => (\r\n\t\t\t\t\t\t\t\t\t<div key={book.id} className=\"book-item\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"book-cover\">\r\n\t\t\t\t\t\t\t\t\t\t\t{book.featured_image ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={book.featured_image.url} \r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt={book.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '220px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tobjectFit: 'cover'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"book-cover-placeholder\" style={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: '220px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackground: '#f0f0f0',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: '#999',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: '48px'\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tðŸ“š\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"book-overlay\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"book-overlay-link\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"book-title\">{book.title}</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"book-author\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{book.authors && book.authors.length > 0 \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? book.authors.join(', ')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Unknown Author'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t},\r\n\tsave: () => {\r\n\t\t// Dynamic block - no save needed\r\n\t\treturn null;\r\n\t},\r\n});\r\n","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"ReactJSXRuntime\"];","module.exports = window[\"wp\"][\"blocks\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t170: 0,\n\t70: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunktotal_book_blocks\"] = globalThis[\"webpackChunktotal_book_blocks\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [70], () => (__webpack_require__(530)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","module","exports","window","registerBlockType","edit","attributes","setAttributes","blockProps","useBlockProps","category","limit","orderby","order","showMeta","showExcerpt","columns","template","categories","setCategories","useState","categoriesLoading","setCategoriesLoading","books","setBooks","booksLoading","setBooksLoading","useEffect","apiFetch","path","then","cats","catch","categoryParam","length","join","queryParams","URLSearchParams","toString","append","booksData","categoryOptions","label","value","concat","map","cat","name","count","slug","_jsxs","_Fragment","children","InspectorControls","PanelBody","title","initialOpen","_jsx","SelectControl","options","onChange","Array","isArray","handleCategoryChange","disabled","help","TextControl","type","num","parseInt","isNaN","ToggleControl","checked","RangeControl","min","max","className","style","margin","padding","textAlign","color","display","gridTemplateColumns","gap","listStyle","width","book","featured_image","src","url","alt","height","objectFit","background","alignItems","justifyContent","fontSize","authors","id","save","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","chunkLoadingGlobal","globalThis","forEach","bind","push","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}