.book-content{display:flex;flex-direction:column;margin:0 10px;line-height:1.5;color:#2c3e50;font-size:inherit;flex:1;padding:20px;box-sizing:border-box;width:800px;height:calc(var(--content-height) - 40px)}.book-content div{padding:0;margin:0}.book-content p{margin:8px 0;text-align:justify}.book-content section{position:relative}.book-content .aligncenter{justify-self:center}.book-content .book-cover{text-align:center;max-width:100%;height:auto}.book-content .book-cover{width:100%;margin:auto}.book-content h1{text-align:center}.book-content h2{text-align:center}.book-content .book-title{font-size:3rem;font-weight:700;margin:auto;padding:0 18px;color:inherit}.book-content .book-subtitle{font-size:2rem;font-weight:300;margin:auto;padding:0 18px;color:inherit;font-style:italic}.book-content .book-author{font-size:3rem;text-align:center;margin:auto;padding:0 18px;color:inherit}.book-content .book-copyright-page{margin:auto}.book-content .book-dedication{margin:auto}.book-content .book-toc-list{text-align:center;list-style-type:none;padding:0;margin:0}.book-content .book-toc-list li{margin-bottom:18px}.book-content .book-chapter-title{font-size:1.5rem;font-weight:700;margin-bottom:18px;padding:0 18px;color:inherit}.book-content img{max-width:100%}.book-content figure{margin:1em 0;max-height:70vh}.book-content figure img{padding:0;max-width:100%;max-height:100%}@media(max-width: 768px){.book-content{width:100% !important;margin:0;padding:0}.book-content .book-title{font-size:2rem}.book-content .book-subtitle{font-size:1.5rem}.book-content .book-author{font-size:2rem}.book-content .book-chapter-title{font-size:1.25rem;margin-bottom:8px}.book-content .book-toc-list li{margin-bottom:10px}.book-content .book-toc-list figure{max-height:60vh}}.book-content-measure{display:flex;flex-direction:column;margin:0 10px;line-height:1.5;color:#2c3e50;font-size:inherit;flex:1;padding:20px;box-sizing:border-box;width:800px;min-height:calc(var(--content-height) - 40px);position:absolute;top:20px;left:0;visibility:hidden;z-index:-1;box-sizing:border-box;height:fit-content}.book-content-measure div{padding:0;margin:0}.book-content-measure p{margin:8px 0;text-align:justify}.book-content-measure section{position:relative}.book-content-measure .aligncenter{justify-self:center}.book-content-measure .book-cover{text-align:center;max-width:100%;height:auto}.book-content-measure .book-cover{width:100%;margin:auto}.book-content-measure h1{text-align:center}.book-content-measure h2{text-align:center}.book-content-measure .book-title{font-size:3rem;font-weight:700;margin:auto;padding:0 18px;color:inherit}.book-content-measure .book-subtitle{font-size:2rem;font-weight:300;margin:auto;padding:0 18px;color:inherit;font-style:italic}.book-content-measure .book-author{font-size:3rem;text-align:center;margin:auto;padding:0 18px;color:inherit}.book-content-measure .book-copyright-page{margin:auto}.book-content-measure .book-dedication{margin:auto}.book-content-measure .book-toc-list{text-align:center;list-style-type:none;padding:0;margin:0}.book-content-measure .book-toc-list li{margin-bottom:18px}.book-content-measure .book-chapter-title{font-size:1.5rem;font-weight:700;margin-bottom:18px;padding:0 18px;color:inherit}.book-content-measure img{max-width:100%}.book-content-measure figure{margin:1em 0;max-height:70vh}.book-content-measure figure img{padding:0;max-width:100%;max-height:100%}@media(max-width: 768px){.book-content-measure{width:100% !important;margin:0;padding:0}.book-content-measure .book-title{font-size:2rem}.book-content-measure .book-subtitle{font-size:1.5rem}.book-content-measure .book-author{font-size:2rem}.book-content-measure .book-chapter-title{font-size:1.25rem;margin-bottom:8px}.book-content-measure .book-toc-list li{margin-bottom:10px}.book-content-measure .book-toc-list figure{max-height:60vh}}.book-reader-container{box-sizing:border-box;max-width:900px;margin:0 auto;padding:40px;background:#fafafa;min-height:100vh;height:100vh;font-family:"Merriweather",Georgia,serif;box-shadow:0 4px 12px rgba(0,0,0,.1);position:relative;border-radius:8px;display:flex;flex-direction:column;overflow:hidden;--header-height: calc(40px + 20px + 2rem + 1.3rem);--container-padding: 80px;--content-height: calc(100vh - var(--header-height) - var(--container-padding))}body.admin-bar .book-reader-container{min-height:calc(100vh - 32px);height:calc(100vh - 32px);--content-height: calc(100vh - 32px - var(--header-height) - var(--container-padding))}.book-reader-container::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg, rgba(0, 0, 0, 0.03) 1px, transparent 1px);background-size:20px 100%;pointer-events:none}.book-reader-container.theme-light{background:#fafafa;color:#2c3e50}.book-reader-container.theme-light .book-header h2{color:#2c3e50}.book-reader-container.theme-light .book-content{color:#2c3e50}.book-reader-container.theme-light .book-controls{border-top-color:rgba(0,0,0,.1)}.book-reader-container.theme-dark{background:#1a1a1a;color:#ecf0f1}.book-reader-container.theme-dark::before{background:linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px)}.book-reader-container.theme-dark .book-header h2{color:#ecf0f1}.book-reader-container.theme-dark .book-content{color:#bdc3c7}.book-reader-container.theme-dark .book-controls{border-top-color:hsla(0,0%,100%,.1)}.loading-spinner{display:flex;flex-direction:column;text-align:center;align-items:center;justify-content:center;flex:1;min-height:400px}.loading-spinner .spinner{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.book-reader-loading{display:flex;align-items:center;justify-content:center;height:200px;color:#666;font-style:italic}.error-message{text-align:center;color:#e74c3c;padding:20px;flex:1;display:flex;flex-direction:column;justify-content:center}.book-reader-error{display:flex;align-items:center;justify-content:center;height:200px;color:#e74c3c;border:1px solid #e74c3c;border-radius:4px;background:#fdf2f2;margin:20px 0}.book-header{margin-bottom:40px;padding-bottom:20px;border-bottom:1px solid rgba(0,0,0,.1);text-align:center;position:relative}.book-header h2{margin:0 0 12px 0;color:#2c3e50;font-size:2rem;font-weight:700;line-height:1.3;cursor:pointer;display:inline-block;transition:color .15s,text-decoration .15s,background .15s;text-decoration:none}.book-header h2:hover,.book-header h2:focus{color:#3498db;text-decoration:underline;background:rgba(52,152,219,.04);outline:none}.book-header p{margin:0;color:#666;font-size:14px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}.book-header .page-info{position:absolute;top:60px;right:0;font-size:.9rem;color:#666;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;padding:4px 12px;border-radius:12px;background:rgba(0,0,0,.04);transition:all .2s ease}.book-header .page-info:hover{background:rgba(0,0,0,.08)}.book-header .page-info .chapter-info{font-style:italic;opacity:.8}.book-content-wrapper{height:var(--content-height);position:relative;flex:1;display:flex;align-items:center;justify-content:center;overflow:hidden}.book-controls{display:flex;justify-content:space-between;align-items:center;padding:20px 0;border-top:1px solid rgba(0,0,0,.1);margin-top:40px;gap:20px}.book-controls button{padding:8px 16px;background:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;min-width:80px;box-shadow:0 2px 4px rgba(0,0,0,.1);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}.book-controls button:hover{background:#2980b9;transform:translateY(-1px);box-shadow:0 4px 6px rgba(0,0,0,.1)}.book-controls button:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;box-shadow:none}.book-controls span{color:#666;font-size:14px;font-weight:500;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}@media(prefers-color-scheme: dark){.book-reader-container{background:#1a1a1a;color:#ecf0f1}.book-reader-container::before{background:linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px)}.book-header{border-bottom-color:hsla(0,0%,100%,.1)}.book-header h2{color:#ecf0f1}.book-content{color:#bdc3c7}.book-controls{border-top-color:hsla(0,0%,100%,.1)}.settings-panel{background:#23272f;color:#f4f4f4;box-shadow:0 8px 32px rgba(0,0,0,.38)}.settings-panel .setting-group button{background:#23272f;color:#f4f4f4;border:1px solid #444}.settings-panel .setting-group button.active{background:#3498db;color:#fff;border-color:#3498db}.settings-panel .close-settings{background:#3498db;color:#fff}.settings-panel .close-settings:hover{background:#2980b9}.toc-panel-inside{background:#23272f;color:#f4f4f4;box-shadow:2px 0 16px rgba(0,0,0,.28)}.toc-panel-inside .toc-title{color:#f4f4f4}.toc-panel-inside .current-chapter-section{border-bottom-color:hsla(0,0%,100%,.1)}.toc-panel-inside .current-chapter-section .current-chapter-info .section-type{color:#3498db}.toc-panel-inside .current-chapter-section .current-chapter-info .chapter-progress{color:#bdc3c7}.toc-panel-inside .current-chapter-section .current-chapter-info .progress-bar{background:hsla(0,0%,100%,.1)}.toc-panel-inside .toc-list li button{background:none;color:#f4f4f4}.toc-panel-inside .toc-list li button:hover{background:#23272f;color:#3498db}.toc-panel-inside .toc-list li.active button{background:#3498db;color:#fff}.nav-arrow{background:hsla(0,0%,100%,.2)}.nav-arrow:hover:not(:disabled){background:hsla(0,0%,100%,.3)}}.settings-btn{position:absolute;top:20px;right:20px;background:none;border:none;font-size:1.5rem;cursor:pointer;z-index:10;color:inherit;opacity:.7;transition:opacity .2s}.settings-btn:hover{opacity:1}.settings-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.3);z-index:1001;display:flex;align-items:center;justify-content:center}.settings-panel{background:#fff;color:#222;border-radius:8px;box-shadow:0 8px 32px rgba(0,0,0,.18);padding:32px 24px 24px 24px;min-width:260px;max-width:90vw;position:relative;display:flex;flex-direction:column;gap:18px;animation:fadeIn .2s}.settings-panel h3{margin-top:0;margin-bottom:12px;font-size:1.2rem;font-weight:700;text-align:center}.settings-panel .setting-group{display:flex;align-items:center;gap:10px}.settings-panel .setting-group label{min-width:70px;font-weight:500}.settings-panel .setting-group button{padding:8px 16px;background:#3498db;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease;min-width:80px;box-shadow:0 2px 4px rgba(0,0,0,.1);min-width:36px;padding:6px 12px;font-size:1rem;background:#f4f4f4;color:#222;border:1px solid #ccc}.settings-panel .setting-group button:hover{background:#2980b9;transform:translateY(-1px);box-shadow:0 4px 6px rgba(0,0,0,.1)}.settings-panel .setting-group button:disabled{background:#bdc3c7;cursor:not-allowed;transform:none;box-shadow:none}.settings-panel .setting-group button.active{background:#3498db;color:#fff;border-color:#3498db}.settings-panel .close-settings{margin-top:10px;align-self:flex-end;background:#3498db;color:#fff;border:none;border-radius:4px;padding:6px 18px;font-size:1rem;cursor:pointer;transition:background .2s}.settings-panel .close-settings:hover{background:#2980b9}@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.toc-btn{position:absolute;top:20px;left:20px;background:none;border:none;font-size:1.7rem;cursor:pointer;z-index:20;color:inherit;opacity:.7;transition:opacity .2s}.toc-btn:hover,.toc-btn.open{opacity:1}.toc-panel-inside{position:absolute;top:0;left:0;bottom:0;width:320px;max-width:90vw;height:100%;background:#fff;color:#222;box-shadow:2px 0 16px rgba(0,0,0,.12);display:flex;flex-direction:column;padding:0 0 24px 0;z-index:19;animation:slideInLeft .2s;border-radius:8px 0 0 8px}.toc-panel-inside .toc-cover{width:100%;padding:32px 0 12px 0;display:flex;justify-content:center}.toc-panel-inside .toc-cover img{width:120px;height:160px;object-fit:cover;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.1);background:#eee}.toc-panel-inside .toc-title{text-align:center;font-size:1.2rem;font-weight:700;margin-bottom:18px;padding:0 18px;color:inherit}.toc-panel-inside .current-chapter-section{padding:0 18px 18px 18px;border-bottom:1px solid rgba(0,0,0,.1);margin-bottom:18px}.toc-panel-inside .current-chapter-section h4{margin:0 0 12px 0;font-size:.9rem;font-weight:600;color:#3498db;text-transform:uppercase;letter-spacing:.5px}.toc-panel-inside .current-chapter-section .current-chapter-info .section-type{font-size:.75rem;color:#3498db;font-weight:500;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}.toc-panel-inside .current-chapter-section .current-chapter-info .chapter-title{font-size:1rem;font-weight:600;margin-bottom:8px;color:inherit;line-height:1.3}.toc-panel-inside .current-chapter-section .current-chapter-info .chapter-progress{font-size:.8rem;color:#666;margin-bottom:12px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif}.toc-panel-inside .current-chapter-section .current-chapter-info .progress-bar{width:100%;height:4px;background:rgba(0,0,0,.1);border-radius:2px;overflow:hidden}.toc-panel-inside .current-chapter-section .current-chapter-info .progress-bar .progress-fill{height:100%;background:#3498db;border-radius:2px;transition:width .3s ease}.toc-panel-inside .toc-list{list-style:none;padding:0 0 0 0;margin:0 0 18px 0;flex:1;overflow-y:auto;min-height:0}.toc-panel-inside .toc-list li.active button{background:#3498db;color:#fff}.toc-panel-inside .toc-list li.active button .page-range{color:#fff;opacity:.8}.toc-panel-inside .toc-list li button{width:100%;text-align:left;background:none;border:none;padding:12px 24px;font-size:1rem;color:inherit;cursor:pointer;border-radius:0;transition:background .15s;display:flex;justify-content:space-between;align-items:center}.toc-panel-inside .toc-list li button .chapter-title{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.toc-panel-inside .toc-list li button .page-range{font-size:.85rem;color:#666;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;margin-left:12px}.toc-panel-inside .toc-list li button:hover{background:#f0f4fa}@keyframes slideInLeft{from{transform:translateX(-100%);opacity:0}to{transform:translateX(0);opacity:1}}.navigation{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:10}.navigation button{position:absolute;top:50%;transform:translateY(-50%);width:40px;height:64px;background:rgba(0,0,0,.3);color:#fff;border:none;border-radius:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:28px;transition:all .2s ease;pointer-events:auto;opacity:.7;box-shadow:0 2px 8px rgba(0,0,0,.08)}.navigation button:hover:not(:disabled){background:rgba(0,0,0,.5);opacity:1;transform:translateY(-50%) scale(1.08)}.navigation button:disabled{opacity:.3;cursor:not-allowed}.navigation button.prev{left:8px}.navigation button.next{right:8px}.navigation .page-info{position:absolute;bottom:20px;font-size:.85rem;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;color:rgba(0,0,0,.4);transition:all .2s ease;pointer-events:auto}.navigation .page-info.current-page{left:20px}.navigation .page-info.total-pages{right:20px}.navigation .page-info:hover{color:rgba(0,0,0,.6)}.theme-dark .navigation button{background:hsla(0,0%,100%,.2)}.theme-dark .navigation button:hover:not(:disabled){background:hsla(0,0%,100%,.3)}.theme-dark .navigation .page-info{color:hsla(0,0%,100%,.4)}.theme-dark .navigation .page-info:hover{color:hsla(0,0%,100%,.6)}.theme-dark .book-header .page-info{color:#bdc3c7;background:hsla(0,0%,100%,.08)}.theme-dark .book-header .page-info:hover{background:hsla(0,0%,100%,.12)}@media(max-width: 768px){.book-reader-container{margin:0;border-radius:0}.book-header{max-width:70vw;place-self:center;position:initial}.book-header h2{font-size:1.25rem}.book-header>.page-info{top:80px}.book-controls{flex-direction:column;gap:15px}.book-controls button{width:100%;max-width:200px}.navigation button{width:32px;height:48px;font-size:20px;border-radius:16px}.navigation button.prev{left:4px}.navigation button.next{right:4px}.navigation .page-info{font-size:.75rem;bottom:12px}.navigation .page-info.current-page{left:8px}.navigation .page-info.total-pages{right:8px}}
